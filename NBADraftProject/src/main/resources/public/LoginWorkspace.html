<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>NBA</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>


<div class = "login-page">
    <div class = "form">
<form class ="register-form">
    <h1 style="font-size:30px;">Let's start</h1>
    <input type = "text" placeholder="username" id = "username1"/>
    <input type="password" placeholder="password" id="myInput1">
    <input type = "text" placeholder="email"/>
    <input type="checkbox" onclick="myFunction1()">
    <button onclick="Create_account()">Create account</button>
    <p class="message">Already have an account? <a href="#"> Login</a>
    </p>
</form>
        <form class="login-form">
            <h1 style="font-size:30px;">Welcome!</h1>
        <input type="text" placeholder="username" id = "username"/>
            <input type="password" placeholder="password" id="myInput">
            <input type="checkbox" onclick="myFunction()">
            <button onclick="Login()">Login</button>
            <p class="message">Don't have an account? <a href="#"> Create account</a></p>
        </form>
        </div>

        </div>
        <script src="https://code.jquery.com/jquery-3.3.1.min.js">
            </script>

        <script>
            $('.message a').click(function() {
                $('form').animate( {height: "toggle", opacity: "toggle"}, "slow");})
        </script>
        <script>
            function myFunction() {
                var x = document.getElementById("myInput");
                if (x.type === "password") {
                    x.type = "text";
                } else {
                    x.type = "password";
                }
            }
        </script>
        <script>
            function myFunction1() {
                var y = document.getElementById("myInput1");
                if (y.type === "password") {
                    y.type = "text";
                } else {
                    y.type = "password";
                }
            }
        </script>
		
		<script>
		
			function Login() {
		var obj = {}
		obj.username=document.getElementById("username").value;
		obj.password=document.getElementById("myInput").value;
		$.ajax({
            type: 'GET',
            url: 'http://localhost:8080/login',
            data: JSON.stringify(obj),
            contentType: "application/json",
            crossDomain: true
        })
        .done(function(data) {
		sessionStorage.setItem("userID", obj.username);
		window.alert("You're Logged In!");
            console.log(obj.username + " " + JSON.stringify(data));
			location.replace("homepage.html");
			
        })
        .fail(function(data) {
		window.alert("Login Failed");
            console.log(data);
        });
    }
		
		</script>
		
		<script>
		
			function Create_account() {
		var obj = {}
		obj.username=document.getElementById("username1").value
		obj.password=document.getElementById("myInput1").value
		$.ajax({
            type: 'POST',
            url: 'http://localhost:8080/register',
            data: JSON.stringify(obj),
            contentType: "application/json",
            crossDomain: true
        })
        .done(function(data) {
		sessionStorage.setItem("userID", obj.username);
		window.alert("You're Logged in and Registered!");
            console.log(obj.username + " " + JSON.stringify(data));
			location.replace("homepage.html");
        })
        .fail(function(data) {
		window.alert("Code Failed");
            console.log(data);
        });
    }
		
		</script>
</body>
</html>